{% extends 'basic/home.html' %}
{% load static %}

{% block title %}Lirnex{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/search.css' %}">
{% endblock %}

{% block content %}
<div class="search-container">
    <form method="get" class="search-form">
        <input type="text" name="q" value="{{ query }}" placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞...">
        <button type="submit">üîç</button>
    </form>

    {% if query %}
        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–ª—è: "{{ query }}"</h3>

        {% if results %}
            <ul class="search-results">
                {% for profile in results %}
                    <li>
                        <a href="{% url 'user:profile' profile.user.username %}">
                            {% if profile.photo_profile %}
                                <img src="{{ profile.photo_profile.url }}" alt="–§–æ—Ç–æ" width="40">
                            {% else %}
                                <img src="{% static 'icons/default-avatar.png' %}" width="40">
                            {% endif %}
                            {{ profile.user.username }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ üòî</p>
        {% endif %}
    {% endif %}
</div>
{% endblock %}
